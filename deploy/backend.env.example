# ============================================
# MindAtlas Backend Configuration (Docker)
# Copy this file to backend.env and modify as needed
# Used by deploy/docker-compose.yml via env_file
# ============================================

# This file is intentionally minimal for Docker deployment.
# For full backend config options, see: backend/.env.example

# Fernet key for encrypting API keys stored in DB (AI registry, optional)
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AI_PROVIDER_FERNET_KEY=

# LightRAG (optional; requires Neo4j + AI key)
LIGHTRAG_ENABLED=true
# Debugging (optional): dump Python stacks when LightRAG init times out (helps pinpoint where it hangs)
# LIGHTRAG_DUMP_STACK_ON_TIMEOUT=true
# Optional: extend init timeout if cold-start is slow (e.g. after `docker compose down -v`)
# LIGHTRAG_INIT_TIMEOUT_SEC=600

# LightRAG LLM (OpenAI-compatible)
LIGHTRAG_LLM_MODEL=gpt-4o-mini
# Optional overrides:
# LIGHTRAG_LLM_HOST=https://api.openai.com/v1
# LIGHTRAG_LLM_KEY=

# LightRAG Embedding (OpenAI-compatible)
LIGHTRAG_EMBEDDING_MODEL=text-embedding-3-small
LIGHTRAG_EMBEDDING_DIM=1536
# Optional overrides:
# LIGHTRAG_EMBEDDING_HOST=https://api.openai.com/v1
# LIGHTRAG_EMBEDDING_KEY=

LIGHTRAG_SUMMARY_LANGUAGE=Chinese

# LightRAG Rerank (optional, leave empty to disable)
# Standard rerank API (vLLM/LiteLLM compatible). If MODEL+HOST are set, rerank is enabled automatically.
# If HOST endswith "/v1", backend will append "/rerank" (so "/v1/rerank" is also fine).
# LIGHTRAG_RERANK_MODEL=
# LIGHTRAG_RERANK_HOST=
# LIGHTRAG_RERANK_KEY=
# LIGHTRAG_RERANK_REQUEST_FORMAT=standard
